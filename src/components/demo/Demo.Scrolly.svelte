<script>
	import Scrolly from "$components/helpers/Scrolly.svelte";

	let value;

	let scrollPosition = 0;

	function handleScroll(event) {
	scrollPosition = event.target.scrollTop;
	}

	let steps = [
    `<div>
		<img src="assets/demo/firstgraph.svg" alt="graph" style={{	width: '80vw', backgroundSize: 'cover', backgroundPosition: 'center center'}}/>
    </div>
	`,
    `<div>
		<img src="assets/demo/secondgraph.svg" alt="graph" style={{	width: '80vw', backgroundSize: 'cover', backgroundPosition: 'center center'}}/>
	</div>`,
  ];
</script>

<section id="scrolly">

	<div class="spacer" />

	<Scrolly bind:value style={{overflow: 'auto'}}>

		<div on:scroll={handleScroll}>
			<img src={scrollPosition < 100 ? 'assets/demo/firstgraph.svg' : 'assets/demo/secondgraph.svg'} alt="imageofgraph" style={{	width: '80vw', backgroundSize: 'cover', backgroundPosition: 'center center'}}/>
		</div>	

		<!-- {#each steps as text, i}
		<div class="step" class:active={value === i}>
		  <div class="step-content">{@html text}</div>
		</div>
	  {/each} -->
	</Scrolly>
	<div class="spacer" />
</section>

<style>



	.spacer {
		height: 75vh;
	}

	.step {
		height: 80vh;
		width: 100vw;
		background: var(--color-white);
		text-align: center;
	}

	.step div {
		padding: 1rem;
		animation: fadeIn 7s;
	}

	@keyframes fadeIn {
	0% { opacity: 0; }
	100% { opacity: 1; }
	}

	@keyframes fadeOut {
	0% { opacity: 1; }
	100% { opacity: 0; }
	}
</style>
